<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ranking List</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div id="navigation_bar">
		<a href="">Home Page</a>
		<a href="">History</a>
		<a href="">Classification</a>
		<a href="">Ranking List</a>
		<a href="">Celebrities</a>
		<a href="">About Us</a>
	</div>

	<div id="play_bar">
		<img id="btn_l_speed" src="./left_speed_btn.png" onmousedown="backward_bgm()">
		<img id="btn_play_pause" src="./play_btn.png" onclick="start_pause_bgm()">
		<img id="btn_r_speed" src="./right_speed_btn.png" onmousedown="forward_bgm()">
		<select id="speed_select" onchange="change_bgm_speed()">
			<option>Speed</option>
			<option>0.5</option>
			<option>0.75</option>
			<option>1.0</option>
			<option>1.25</option>
			<option>1.5</option>
			<option>2.0</option>
		</select>
		<audio id="audio_bgm" src="./bgm.mp3">Your Browser does not support this audio</audio>
	</div>

	<div id="carousel" title="Long-press to stop scrolling.">
		<div id="carousel_img_row">
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
		</div>
		<div id="btn_l_carousel" onclick="scroll_carousel_to_left()"></div>
		<div id="btn_r_carousel" onclick="scroll_carousel_to_right()"></div>
		<ul>
			<li></li>
		</ul>
	</div>

	<div id="rank_list_self">
		<div class="list_box">
			<div id="img_list_1" class="list_img">
				<div class="list_title_shade">
					<div>List 1</div>
				</div>
				<div class="list_text_part">
					<p class="list_text">Song 1Song 1Song 1Song 1Song 1Song 1</p>
					<p class="list_text">Song 2</p>
					<p class="list_text">Song 3</p>
					<p class="list_text">Song 4</p>
					<p class="list_text">Song 5</p>
					<p class="list_text">Song 6</p>
					<p class="list_text">Song 7</p>
					<p class="list_text">Song 8</p>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_2" class="list_img">
				<div class="list_title_shade">
					<div>List 2</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_3" class="list_img">
				<div class="list_title_shade">
					<div>List 3</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_4" class="list_img">
				<div class="list_title_shade">
					<div>List 4</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_5" class="list_img">
				<div class="list_title_shade">
					<div>List 5</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_6" class="list_img">
				<div class="list_title_shade">
					<div>List 6</div>
				</div>
			</div>
		</div>
	</div>

	<div id="footer">
		<hr>
		<p>If you have any Questions, click <a href="mailto:">HERE</a> to send a email to us.</p>
		<p>You can also go to <a href="">About Us</a> page to submit you ideas to us.</p>
		<p>Here are our social media accounts</p>
		<a href="https://www.instagram.com"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/800px-Instagram_logo_2016.svg.png"></a>
		<a href="https://twitter.com"><img src="https://upload.wikimedia.org/wikipedia/zh/thumb/9/9f/Twitter_bird_logo_2012.svg/1200px-Twitter_bird_logo_2012.svg.png"></a>
		<a href="https://www.facebook.com"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/1200px-2021_Facebook_icon.svg.png"></a>
	</div>

	<script type="text/javascript">
		var img_carouselObjs = document.getElementsByClassName("img_carousel");
		window.onload = function() {
			var img_src_array = ["./holder.jpg", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./holder.jpg", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png"]
			// 12 34 12 order
			for (var i = 0; i < img_carouselObjs.length; i++) {
				img_carouselObjs[i].style.backgroundImage = "url(" + img_src_array[i] + ")";
			}

			var list_textObjs = document.getElementsByClassName("list_text");
			for (var i = 0; i < list_textObjs.length; i++) {
				list_textObjs[i].title = list_textObjs[i].innerHTML;
			}

			var footerObj = document.getElementById("footer");
			footerObj.style.marginBottom = "5vw";
		}
		
		var play_state = false;
		var bgmObj = document.getElementById("audio_bgm");
		var play_btnObj = document.getElementById("btn_play_pause");

		function start_pause_bgm() {
			if (play_state == false) {
				if (bgmObj.currentTime == bgmObj.duration) {
					bgmObj.currentTime = 0;
				}
				bgmObj.play();
				play_btnObj.src = "./pause_btn.png";
				play_state = true;
			} else {
				bgmObj.pause();
				play_btnObj.src = "./play_btn.png";
				play_state = false;
			}
		}

		var backward_timer, forward_timer;
		var btn_ls = false, btn_rs = false;

		var btn_lsObj = document.getElementById("btn_l_speed");
		btn_lsObj.addEventListener("mousedown", function() {
			if (play_state) {
				btn_ls = true;
				clearInterval(backward_timer);
				backward_timer = setInterval(backward_bgm, 500);
			}
		});
		btn_lsObj.addEventListener("mouseup", function() {
			btn_ls = false;
		});

		var btn_rsObj = document.getElementById("btn_r_speed");
		btn_rsObj.addEventListener("mousedown", function() {
			if (play_state) {
				btn_rs = true;
				clearInterval(forward_timer);
				forward_timer = setInterval(forward_bgm, 500);
			}
		});
		btn_rsObj.addEventListener("mouseup", function() {
			btn_rs = false;
		});

		function backward_bgm() {
			if (btn_ls) {
				backward_timer = setInterval(backward_bgm, 500);
				bgmObj.currentTime -= 0.52;
			} else {
				clearInterval(backward_timer);
			}
		}
		function forward_bgm() {
			if (bgmObj.currentTime >= bgmObj.duration) {
				bgmObj.pause();
				play_btnObj.src = "./play_btn.png";
				play_state = false;
				return;
			}
			if (btn_rs) {
				forward_timer = setInterval(forward_bgm, 500);
				bgmObj.currentTime += 0.52;
			} else {
				clearInterval(forward_timer);
			}
		}
		function change_bgm_speed() {
			var selectObj = document.getElementById("speed_select");
			for (var i = 0; i < selectObj.options.length; i++) {
				if (selectObj.options[0].selected) {
					bgmObj.playbackRate = 1.0;
				} else if (selectObj.value == 0.5) {
					bgmObj.playbackRate = 0.5;
				} else if (selectObj.value == 0.75) {
					bgmObj.playbackRate = 0.75;
				} else if (selectObj.value == 1.0) {
					bgmObj.playbackRate = 1.0;
				} else if (selectObj.value == 1.25) {
					bgmObj.playbackRate = 1.25;
				} else if (selectObj.value == 1.5) {
					bgmObj.playbackRate = 1.5;
				} else if (selectObj.value == 2.0) {
					bgmObj.playbackRate = 2.0;
				}
			}
			// selectObj.style.boxShadow = "none";
			// selectObj.style.color = "red";
		}

		var carousel_screen = document.getElementById("carousel");
		var carousel_img_rowObj = document.getElementById("carousel_img_row");
		var btn_l_carouselObj = document.getElementById("btn_l_carousel");
		var btn_r_carouselObj = document.getElementById("btn_r_carousel");
		var img_count = -1;
		var carousel_timer;
		carousel_screen.addEventListener("mousedown", function() {clearInterval(carousel_timer);})
		btn_l_carouselObj.addEventListener("mouseenter", function() {clearInterval(carousel_timer);})
		btn_r_carouselObj.addEventListener("mouseenter", function() {clearInterval(carousel_timer);})
		carousel_screen.addEventListener("mouseover", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})
		carousel_screen.addEventListener("mouseup", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})
		btn_l_carouselObj.addEventListener("mouseout", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})
		btn_r_carouselObj.addEventListener("mouseout", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_right, 4000);
		})

		function turn_page() {
			carousel_img_rowObj.style.marginLeft = img_count + "00%" ;
		}
		function back_to_left() {
			img_count = -1;
			carousel_img_rowObj.style.transition = "none";
			turn_page();
		}
		function back_to_right() {
			img_count = -4;
			carousel_img_rowObj.style.transition = "none";
			turn_page();
		}

		function scroll_carousel_to_left() {
			img_count--;
			carousel_img_rowObj.style.transition = "all linear 1.5s";
			if (-(img_count) >= img_carouselObjs.length - 1) {
				img_count = -(img_carouselObjs.length - 1);
				turn_page();
				setTimeout(back_to_left, 1500);
			} else {
				turn_page();
			}
		}
		function scroll_carousel_to_right() {
			img_count++;
			carousel_img_rowObj.style.transition = "all linear 1.5s";
			if (img_count >= 0) {
				img_count = 0;
				turn_page();
				setTimeout(back_to_right, 1500);
			} else {
				turn_page();
			}
		}
	</script>
</body>
</html>