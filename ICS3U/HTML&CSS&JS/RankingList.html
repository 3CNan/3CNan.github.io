<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ranking List</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body onresize="adjust_screen_width()">
	<div id="navigation_bar">
		<a href="">Home Page</a>
		<a href="">History</a>
		<a href="">Cassification</a>
		<a href="">Ranking List</a>
		<a href="">Celebrities</a>
		<a href="">About Us</a>
	</div>

	<div id="play_bar">
		<img id="btn_l_speed" src="./left_speed_btn.png" onmousedown="backward_bgm()">
		<img id="btn_play_pause" src="./play_btn.png" onclick="start_pause_bgm()">
		<img id="btn_r_speed" src="./right_speed_btn.png" onmousedown="forward_bgm()">
		<audio id="audio_bgm" src="./bgm.mp3">Your Browser does not support this audio</audio>
	</div>

	<div id="carousel" title="Long-press to stop scrolling.">
		<div id="carousel_img_row">
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
			<div class="img_carousel"></div>
		</div>
		<div id="btn_l_carousel" onclick="scroll_carousel_to_left()"></div>
		<div id="btn_r_carousel" onclick="scroll_carousel_to_right()"></div>
		<ul>
			<li></li>
		</ul>
	</div>

	<div id="rank_list_self">
		<div class="list_box">
			<div id="img_list_1" class="list_img">
				<div class="list_title_shade">
					<div>List 1</div>
				</div>
				<div class="list_text_part">
					<p>Song 1Song 1Song 1Song 1Song 1Song 1</p>
					<p>Song 2</p>
					<p>Song 3</p>
					<p>Song 4</p>
					<p>Song 5</p>
					<p>Song 6</p>
					<p>Song 7</p>
					<p>Song 8</p>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_2" class="list_img">
				<div class="list_title_shade">
					<div>List 2</div>
				</div>
				
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_3" class="list_img">
				<div class="list_title_shade">
					<div>List 3</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_4" class="list_img">
				<div class="list_title_shade">
					<div>List 4</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_5" class="list_img">
				<div class="list_title_shade">
					<div>List 5</div>
				</div>
			</div>
		</div>
		<div class="list_box">
			<div id="img_list_6" class="list_img">
				<div class="list_title_shade">
					<div>List 6</div>
				</div>
			</div>
		</div>
	</div>

	<div id="footer">
		<hr>
		<p>If you have any Questions, click <a href="mailto:">HERE</a> to send a email to us.</p>
		<p>You can also go to <a href="">About Us</a> page to submit you ideas to us.</p>
		<p>Here are our social media accounts</p>
		<img src="holder.jpg">
		<img src="holder.jpg">
		<img src="holder.jpg">
	</div>

	<script type="text/javascript">
		var img_carouselObjs = document.getElementsByClassName("img_carousel");
		window.onload = function() {
			var img_src_array = ["./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png", "./c_holder.png"]
			for (var i = 0; i < img_carouselObjs.length; i++) {
				img_carouselObjs[i].style.backgroundImage = "url(" + img_src_array[i] + ")";
				img_carouselObjs[i].style.backgroundSize = "100%";
				img_carouselObjs[i].style.backgroundPosition = "center";
				img_carouselObjs[i].style.backgroundRepeat = "no-repeat";
			}
		}

		function adjust_screen_width() {
			var body_width = document.body.offsetWidth;
		}

		var play_state = false;
		var bgmObj = document.getElementById("audio_bgm");
		var play_btnObj = document.getElementById("btn_play_pause");


		function start_pause_bgm() {
			// bgmObj.playbackRate = 1;
			if (play_state == false) {
				if (bgmObj.currentTime == bgmObj.duration) {
					bgmObj.currentTime = 0;
				}
				bgmObj.play();
				play_btnObj.src = "./pause_btn.png";
				play_state = true;
			} else {
				bgmObj.pause();
				play_btnObj.src = "./play_btn.png";
				play_state = false;
			}
		}

		var backward_timer, forward_timer;
		var btn_ls = false, btn_rs = false;

		var btn_lsObj = document.getElementById("btn_l_speed");
		btn_lsObj.addEventListener("mousedown", function() {
			if (play_state) {
				btn_ls = true;
				clearInterval(backward_timer);
				backward_timer = setInterval(backward_bgm, 500);
			}
		});
		btn_lsObj.addEventListener("mouseup", function() {
			btn_ls = false;
		});

		var btn_rsObj = document.getElementById("btn_r_speed");
		btn_rsObj.addEventListener("mousedown", function() {
			if (play_state) {
				btn_rs = true;
				clearInterval(forward_timer);
				forward_timer = setInterval(forward_bgm, 500);
			}
		});
		btn_rsObj.addEventListener("mouseup", function() {
			btn_rs = false;
		});

		function backward_bgm() {
			if (btn_ls) {
				backward_timer = setInterval(backward_bgm, 500);
				bgmObj.currentTime -= 0.52;
			} else {
				clearInterval(backward_timer);
			}
		}
		function forward_bgm() {
			if(bgmObj.currentTime >= bgmObj.duration) {
				bgmObj.pause();
				play_btnObj.src = "./play_btn.png";
				play_state = false;
				return;
			}
			if (btn_rs) {
				forward_timer = setInterval(forward_bgm, 500);
				bgmObj.currentTime += 0.52;
			} else {
				clearInterval(forward_timer);
			}
		}

		var carousel_screen = document.getElementById("carousel");
		var carousel_img_rowObj = document.getElementById("carousel_img_row");
		var btn_l_carouselObj = document.getElementById("btn_l_carousel");
		var btn_r_carouselObj = document.getElementById("btn_r_carousel");
		var img_count = -1;
		var carousel_timer;
		carousel_screen.addEventListener("mousedown", function() {clearInterval(carousel_timer);})
		btn_l_carouselObj.addEventListener("mouseenter", function() {clearInterval(carousel_timer);})
		btn_r_carouselObj.addEventListener("mouseenter", function() {clearInterval(carousel_timer);})
		carousel_screen.addEventListener("mouseover", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})
		carousel_screen.addEventListener("mouseup", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})
		btn_l_carouselObj.addEventListener("mouseout", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})
		btn_r_carouselObj.addEventListener("mouseout", function() {
			clearInterval(carousel_timer);
			carousel_timer = setInterval(scroll_carousel_to_left, 4000);
		})

		function turn_page_left() {
			carousel_img_rowObj.style.marginLeft = img_count + "00%" ;
		}
		function turn_page_right() {
			carousel_img_rowObj.style.marginLeft = img_count + "00%" ;
		}
		function back_to_left() {
			img_count = -1;
			carousel_img_rowObj.style.transition = "none";
			turn_page_left();
		}
		function back_to_right() {
			img_count = -1;
			carousel_img_rowObj.style.transition = "none";
			turn_page_right();
		}

		function scroll_carousel_to_left() {
			img_count--;
			carousel_img_rowObj.style.transition = "all linear 1.5s";
			if (-(img_count) >= img_carouselObjs.length - 1) {
				img_count = -(img_carouselObjs.length - 1);
				turn_page_left();
				setTimeout(back_to_left, 1500);
			} else {
				turn_page_left();
			}
		}
		function scroll_carousel_to_right() {
			carousel_img_rowObj.style.transition = "all linear 1.5s";
			if (img_count >= img_carouselObjs.length - 1) {
				img_count = img_carouselObjs.length - 1;
				turn_page_right();
				setTimeout(back_to_right, 1500);
			} else {
				turn_page_right();
			}
		}
	</script>
</body>
</html>