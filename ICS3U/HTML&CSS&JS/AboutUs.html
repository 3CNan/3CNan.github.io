<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>About Us</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
		<div id="navigation_bar">
			<a href="Home Page.html">Home Page</a>
			<a href="HISTORY.html">History</a>
			<a href="Classification.html">Classification</a>
			<a href="RankingList.html">Ranking List</a>
			<a href="famous person.html">Celebrities</a>
			<a href="AboutUs.html">About Us</a>
		</div>

		<div id="small_game">
			<div id="game_road">
				<p id="text_score"></p>
				<img id="game_character" src="./game_character.png">
				<div id="text_game_over">Game Over......</div>
				<audio id="audio_game_over" src="./game_over.mp3">Your Browser does not support this audio</audio>
			</div>
			<!-- <div id="note_line"> -->
			<!-- <img class="imgs_note" src="./note_1.png">
			<img class="imgs_note" src="./note_2.png">
			<img class="imgs_note" src="./note_3.png"> -->
			<!-- </div> -->
			<button id="btn_stop_game" onclick="stop_game()">Stop</button>
			<button id="btn_play_game" onclick="start_game()">Start</button>
		</div>

		<div id="about_us_main">
			<h1>About the Website</h1>
			<!-- <hr> -->
			<div id="about_website">
				<div class="column_box">
					<h3>Why we divide Classification as this way?</h3>
					<p>The ones which are chose used to be the most popular and mainstream music types.</p>
					<p>And also, they are still played and listened by many people today.</p>
				</div>
				<div class="column_box">
					<div>
						<h3>Our aim?</h3>
						<p>Let everyone who look at our website have better understanding on the development of music in the history.</p>
						<p>At the same time, have the awareness of the variety of different music types.</p>
					</div>
				</div>
				<div class="column_box">
					<h3>Is there any thing want to add in the future?</h3>
					<p>If we learn and know more knowledge about instruments, we would add an addition page about the information of instruments. For example, what roles does the instruments play in the development of music industry, or, how different instruments in difference music types or styles sound like.</p>
				</div>
			</div>

			<h1>About the Designers</h1>
			<div id="about_the_designers">
				<div class="column_box">
					<div>
						<h3>John</h3>
						<p>Allocation: </p>
						<p>Write "Home Page" page and "Classification" page.</p>
						<p>Punchline: </p>
						<ul>
							<li>Adding different opacity on images.</li>
							<li>Select suitable background image which is corresponding to the theme.</li>
							<li>Different source of information.</li>
							<li>Use footer to make the website more interactive.</li>
						</ul>
					</div>
				</div>
				<div class="column_box">
					<div>
						<h3>Dylan</h3>
						<p>Allocation: </p>
						<p>Write "History" page and "Celebrities" page.</p>
						<p>Punchline: </p>
						<ul>
							<li>3 column design make the page more neat</li>
							<li>12 videos let users experience the charm of music</li>
							<li>Dozens of lines of JS make the page interactive</li>
							<li>Turning the page up and down makes the reading experience much even better</li>
						</ul>
					</div>
				</div>
				<div class="column_box">
					<div>
						<h3>Nancy</h3>
						<p>Allocation: </p>
						<p>Write "Ranking List" page and "About Us" page.</p>
						<p>Punchline: </p>
						<ul>
							<li>Play bar at the bottom of Ranking List page</li>
							<li>Carousel at the top of the same page</li>
							<li>Carousel at the top of the same page</li>
							<li>A simple game at the top of the About Us page</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		
		<div id="footer">
			<p>If you have any Questions, click <a href="mailto:">HERE</a> to send a email to us.</p>
			<p>You can also go to <a href="">About Us</a> page to submit you ideas to us.</p>
			<p>Here are our social media accounts</p>
			<a href="https://www.instagram.com"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/800px-Instagram_logo_2016.svg.png"></a>
			<a href="https://twitter.com"><img src="https://upload.wikimedia.org/wikipedia/zh/thumb/9/9f/Twitter_bird_logo_2012.svg/1200px-Twitter_bird_logo_2012.svg.png"></a>
			<a href="https://www.facebook.com"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/1200px-2021_Facebook_icon.svg.png"></a>
		</div>

		<script type="text/javascript">
			window.onload = function() {
				var htmlObj = document.getElementsByTagName("html");
				htmlObj[0].style.backgroundImage = "url('./img_AU_background.jpg')";
				htmlObj[0].style.backgroundSize = "cover";
				htmlObj[0].style.backgroundRepeat = "repeat-y";
				htmlObj[0].style.backgroundAttachment = "fixed";

				var about_websiteObj = document.getElementById("about_website");
				var about_the_designersObj = document.getElementById("about_the_designers");
				var column_boxObjs_1 = about_websiteObj.getElementsByClassName("column_box");
				var column_boxObjs_2 = about_the_designersObj.getElementsByClassName("column_box");
				var column_box_style, save_style = 0;
				for (var i = 0; i < column_boxObjs_1.length; i++) {
					column_box_style = window.getComputedStyle(column_boxObjs_1[i], null);
					if (parseFloat(column_box_style.height) > save_style) {
						save_style = parseFloat(column_box_style.height);
					}
				}
				for (var i = 0; i < column_boxObjs_1.length; i++) {
					column_boxObjs_1[i].style.height = save_style + 10 + "px";
				}
				about_websiteObj.style.height = column_boxObjs_1[0].style.height;
				for (var i = 0; i < column_boxObjs_2.length; i++) {
					column_box_style = window.getComputedStyle(column_boxObjs_2[i], null);
					if (parseFloat(column_box_style.height) > save_style) {
						save_style = parseFloat(column_box_style.height);
					}
				}
				for (var i = 0; i < column_boxObjs_2.length; i++) {
					column_boxObjs_2[i].style.height = save_style + 10 + "px";
				}
				about_the_designersObj.style.height = column_boxObjs_2[0].style.height;

			}
			function add_zeroes(digits, number) {
				var text = "";
				var turns = digits - String(number).length;
				for (var i = 0; i < turns; i++) {
					text += "0";
				}
				text += number;
				return text;
			}

			var characterObj = document.getElementById("game_character");
			var text_scoreObj = document.getElementById("text_score");
			var game_state = false, game_score = 0, margin_top_jump = 189;

			function start_game() {
				if (game_state) {
					return;
				}
				game_state = true;
				text_game_overObj.style.display = "none";
				characterObj.style.transition = "all linear 0.2s";
				margin_top_jump -= 14;
				characterObj.style.marginTop = margin_top_jump + "px";
				setTimeout(function() {
					margin_top_jump += 14;
					characterObj.style.marginTop = margin_top_jump + "px";
				}, 200);
				setTimeout(function() {
					margin_top_jump -= 19;
					characterObj.style.marginTop = margin_top_jump + "px";
				}, 400);
				setTimeout(function() {
					margin_top_jump += 19;
					characterObj.style.marginTop = margin_top_jump + "px";
				}, 600);
				text_scoreObj.innerHTML = "Score: ";
				text_scoreObj.innerHTML += add_zeroes(4, game_score);
				setTimeout(get_new_note, 600);
			}

			var note_height = 170;
			var note_number = 1;
			var note_left = [];
			var note_array = [];
			var note_index = 0;
			var small_gameObj = document.getElementById("small_game");
			var img_note = small_gameObj.getElementsByTagName("img");
			var note = document.createElement("img");
			note_array.push(note);
			note_left.push(100);
			small_gameObj.appendChild(note_array[0]);
			set_note_origin();
			// note_array[index - 2].addEventListening("");
			
			var timer_new_note;

			function get_new_note() {
				clearInterval(timer_new_note);
				if (game_state == false) {
					return;
				} else if (note_array.length - game_score/100 > 2) {
					end_game();
					return;
				}
				if (game_score <= 200) {
					timer_new_note = setInterval(get_new_note, 2200);
				} else if (game_score <= 600) {
					timer_new_note = setInterval(get_new_note, 2000);
				} else if (game_score <= 1000) {
					timer_new_note = setInterval(get_new_note, 1800);
				} else if (game_score <= 1400) {
					timer_new_note = setInterval(get_new_note, 1600);
				} else if (game_score <= 1800) {
					timer_new_note = setInterval(get_new_note, 1400);
				} else if (game_score <= 2200) {
					timer_new_note = setInterval(get_new_note, 1200);
				} else {
					timer_new_note = setInterval(get_new_note, 1000);
				}
				clearInterval(Timer);
				note_index++;
				note = document.createElement("img");
				note_array.push(note);
				note_left.push(100);
				var number = Math.floor(Math.random() * 3) + 1;
				var height = Math.floor(Math.random() * 70) + 130;
				while (height == note_height) {
					height = Math.floor(Math.random() * 70) + 130;
				}
				note_height = height;
				while (number == note_number) {
					number = Math.floor(Math.random() * 3) + 1;
				}
				note_number = number;
				console.log(note_array.length, game_score/100);

				set_note_origin();
				// note_to_moving(note_index);
				if (note_array.length - game_score/100 <= 2) {
					note_left[note_index - 1] -= 120;
					note_array[note_index - 1].style.left = note_left[note_index - 1] + "%";
				}
				if (img_note.length > 3) {
					small_gameObj.removeChild(note_array[note_index - 3]);
					delete note_array[note_index - 3];
					delete note_left[note_index - 3];
				}
				console.log(note_array);
				console.log(note_left);
				small_gameObj.appendChild(note_array[note_index]);
				console.log(note_array.length, game_score/100);
				console.log("");
			}
			function set_game_origin() {
				note_height = 170;
				note_number = 1;
				note_left = [];
				note_array = [];
				note_index = 0;
				note = document.createElement("img");
				note_array.push(note);
				note_left.push(100);
				small_gameObj.appendChild(note_array[0]);
				game_score = 0;
				set_note_origin();
			}
			function set_note_origin() {
				note.src = "./note_" + note_number + ".png";
				note.style.width = "40px";
				note.style.height = "45px";
				note.style.position = "relative";
				note.style.left = "100%";
				note.style.display = "inline-block";
				if (game_score <= 200) {
					note.style.transition = "all linear 2.2s";
				} else if (game_score <= 600) {
					note.style.transition = "all linear 2s";
				} else if (game_score <= 1000) {
					note.style.transition = "all linear 1.8s";
				} else if (game_score <= 1400) {
					note.style.transition = "all linear 1.6s";
				} else if (game_score <= 1800) {
					note.style.transition = "all linear 1.4s";
				} else if (game_score <= 2200) {
					note.style.transition = "all linear 1.2s";
				} else {
					note.style.transition = "all linear 1s";
				}
				note.style.top = "-" + note_height + "px";
			}
			function isCrash(p1,p2) {
				var p1Dis = p1.getBoundingClientRect();
				var p2Dis = p2.getBoundingClientRect();

				if (p1Dis.right < p2Dis.left || p1Dis.bottom < p2Dis.top || p1Dis.left > p2Dis.right || p1Dis.top > p2Dis.bottom) {
					return false;
				} else {
					return true;
				}
			}
			document.onkeydown = function(event) {
				if (game_state == false) {
					return;
				}
				// console.log(event.keyCode);
				if (event.keyCode == 32) {
					jump_character();
					console.log("space");
					return false;
				}
				if (event.keyCode == 38) {
					jump_character();
					console.log("up");
					return false;
				}
				//  37	38  39	  40
				// Left Up Right Down
			}

			var game_roadObj = document.getElementById("game_road");
			game_roadObj.onclick = function() {
				if (game_state == false) {
					return;
				}
				jump_character();
				console.log("click road");
			}

			var check_score = 0;

			function jump_character() {
				margin_top_jump -= 90;
				characterObj.style.marginTop = margin_top_jump + "px";
				check_score = 0;
				add_score();
				setTimeout(function() {
					margin_top_jump += 90;
					characterObj.style.marginTop = margin_top_jump + "px";
				}, 400);
			}
			function stop_game() {
				if (game_state == false) {
					return;
				}
				game_state = false;
				var btn_playObj = document.getElementById("btn_play_game");
				btn_playObj.innerHTML = "Restart";
				if (note_index < 4) {
					for (var i = 0; i < note_array.length; i++) {
						small_gameObj.removeChild(note_array[i]);
					}
				} else {
					for (var i = 0; i < 3; i++) {
						small_gameObj.removeChild(note_array[note_index - i]);
					}
				}
				
				set_game_origin();
			}
			var Timer;

			function add_score() {
				var character_style = window.getComputedStyle(characterObj, null)
				if (check_score == 0) {
					if (isCrash(characterObj, note_array[note_index - 1])) {
						game_score += 100;
						text_scoreObj.innerHTML = "Score: " + add_zeroes(4, game_score);
						check_score++;
					}
				}
				clearInterval(Timer);
				if (game_state == false) {
					return;
				}
				Timer = setInterval(add_score, 50);
			}

			var text_game_overObj = document.getElementById("text_game_over");

			function end_game() {
				stop_game();
				text_game_overObj.style.display = "block";
				var end_bgmObj = document.getElementById("audio_game_over");
				end_bgmObj.play();
			}
		</script>
	</body>
</html>